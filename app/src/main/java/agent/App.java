/*
 * This source file was generated by the Gradle 'init' task
 */
package agent;

import agent.second.AgentCalculator;
import agent.second.AgentCoordinator;
import jade.core.Profile;
import jade.core.ProfileImpl;
import jade.core.Runtime;
import jade.wrapper.AgentContainer;
import jade.wrapper.AgentController;
import jade.wrapper.StaleProxyException;

public class App {
    public String getGreeting() {
        return "Hello World!";
    }

    public static void main(String[] args) throws StaleProxyException {

        Runtime rt = Runtime.instance();
        Profile p = new ProfileImpl();

        // p.setParameter(Profile.MAIN_HOST, "localhost");

        // p.setParameter(Profile.MAIN_PORT, "10099");

        p.setParameter(Profile.GUI, "true");

        AgentContainer mainContainer = rt.createMainContainer(p);

        String[] CalculatorAgents = new String[] { "calculator1", "calculator2", "calculator3" };

        AgentController coordinator = mainContainer.createNewAgent("coordinator", AgentCoordinator.class.getName(), CalculatorAgents);
        coordinator.start();
        for (int i = 1; i <= 3; i++) {
            mainContainer
                    .createNewAgent("calculator" + i, AgentCalculator.class.getName(), null)
                    .start();
        }
    }
}
